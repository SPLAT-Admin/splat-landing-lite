import { NextApiRequest, NextApiResponse } from 'next';

export default function handler(req: NextApiRequest, res: NextApiResponse) {
  const baseUrl = 'https://www.usesplat.com';
  const pages = [
    '/',
    '/founder',
    '/ambassador',
    '/ambassador-apply',
    '/merch',
    '/advertise',
    '/contactus',
    '/terms',
    '/privacy',
    '/community-standards',
    '/sitemap'
  ];

  const sitemap = `<?xml version="1.0" encoding="UTF-8"?>
  <urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
    ${pages
      .map(
        (page) => `
      <url>
        <loc>${baseUrl}${page}</loc>
      </url>`
      )
      .join('')}
  </urlset>`;

  res.setHeader('Content-Type', 'application/xml');
  res.write(sitemap);
  res.end();
}
